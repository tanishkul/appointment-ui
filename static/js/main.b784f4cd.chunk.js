(this["webpackJsonpappointment-ui"]=this["webpackJsonpappointment-ui"]||[]).push([[0],{168:function(e,t,n){},212:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),s=n.n(c),o=(n(168),n(89)),i=n(17),l=n(240),u=n(242),j=n(244),d=n(245),p=n(246),m=[{label:"Book an Appointment",href:"/"},{label:"View Appointment",href:"/events/"}],h=n(8),b=Object(l.a)((function(){return{header:{backgroundColor:"#400CCC",paddingRight:"79px",paddingLeft:"118px"},logo:{fontFamily:"Work Sans, sans-serif",fontWeight:600,color:"#FFFEFE",textAlign:"left"},menuButton:{fontFamily:"Open Sans, sans-serif",fontWeight:700,size:"18px",marginLeft:"38px"},toolbar:{display:"flex",justifyContent:"space-between"}}})),f=function(){var e=b(),t=e.header,n=e.logo,a=e.menuButton,r=e.toolbar,c=Object(h.jsx)(u.a,{className:n,component:"h1",variant:"h6",children:"Appointment Booking App"});return Object(h.jsx)("header",{children:Object(h.jsx)(p.a,{className:t,children:Object(h.jsxs)(d.a,{className:r,children:[c,Object(h.jsx)("div",{children:m.map((function(e){var t=e.label,n=e.href;return Object(h.jsx)(j.a,{key:t,color:"inherit",to:n,component:o.b,className:a,children:t})}))})]})})})},x=function(e){var t=e.events,n=e.time,a=e.setTime;return Object(h.jsx)(h.Fragment,{children:t.map((function(e,t){return Object(h.jsx)(j.a,{color:"primary",onClick:function(){return a(e)},variant:n!==e?"text":"contained",children:e})}))})},O=(n(178),n(179),n(137)),v=function(e){var t=e.value,n=e.setValue;return Object(h.jsx)(O.DateRangePicker,{onChange:function(e){return function(e){var t=e.range1,a=t.endDate,r=t.startDate;r&&a&&n({startDate:r,endDate:a})}(e)},ranges:[t]})},g=n(26),C=n.n(g),k=n(47),y=n(32),S=n(141),D=n(21),w=n(256),E=n(261),N=n(257),T=n(260),A=n(258),F=n(264),_=n(259),B=["America/Los_Angeles","Asia/Kolkata","Canada/Pacific","Europe/Moscow","Brazil/East"],R=n(99),W=n.n(R),M=n(56),L=n(138),z={apiUrl:Object({NODE_ENV:"production",PUBLIC_URL:"/appointment-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVICE_URL:"http://localhost:9000/api/"}).REACT_APP_SERVICE_URL||"https://appointment-svc.herokuapp.com/api/"},P=function(e){var t=new Date(e),n="".concat(t.getMonth()+1),a="".concat(t.getDate()),r=t.getFullYear();return n.length<2&&(n="0".concat(n)),a.length<2&&(a="0".concat(a)),[r,n,a].join("-")},Y=function(){var e=Object(k.a)(C.a.mark((function e(t,n,a,r){var c,s,o,i,l,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=P(t),s=M(n,"hh:mm A").format("HH:mm"),o=L.tz("".concat(c," ").concat(s),r).toISOString(),i=parseInt(a,10),e.next=7,W()({method:"post",url:"".concat(z.apiUrl,"events/"),data:{dateTime:o,duration:i}});case 7:return l=e.sent,u=V(l),e.abrupt("return",u);case 12:throw e.prev=12,e.t0=e.catch(0),V(e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),U=function(){var e=Object(k.a)(C.a.mark((function e(t,n){var a,r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=P(t),e.next=4,W()({method:"get",url:"".concat(z.apiUrl,"events/?date=").concat(a,"&timezone=").concat(n),data:{}});case 4:return r=e.sent,c=V(r),e.abrupt("return",c);case 9:throw e.prev=9,e.t0=e.catch(0),V(e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(k.a)(C.a.mark((function e(t,n){var a,r,c,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=P(t),r=P(n),e.next=5,W()({method:"post",url:"".concat(z.apiUrl,"events/booked/"),data:{startDate:a,endDate:r}});case 5:return c=e.sent,s=V(c),e.abrupt("return",s);case 10:throw e.prev=10,e.t0=e.catch(0),V(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),V=function(e){try{var t=e.data.data;if(200===!e.status)throw t;return t}catch(n){throw n}},H={createEvent:Y,getFreeSlots:U,getBookedEvent:I},K=Object(l.a)((function(){return{container:{fontFamily:"Work Sans, sans-serif",fontWeight:600,color:"black",display:"flex",flexDirection:"column"},menuButton:{fontFamily:"Open Sans, sans-serif",fontWeight:700,size:"18px",marginLeft:"38px"},divClass:{display:"flex",justifyContent:"space-between",marginTop:"50px",marginBottom:"50px"},formClass:{textAlign:"center",marginLeft:"350px",marginRight:"350px"},logo:{fontFamily:"Work Sans, sans-serif",color:"black",textAlign:"left"},boxClass:{margin:"150px"}}})),G=function(){var e=K(),t=e.container,n=e.formClass,r=e.logo,c=e.divClass,s=e.boxClass,o=Object(a.useState)(new Date),i=Object(y.a)(o,2),l=i[0],d=i[1],p=Object(a.useState)(!1),m=Object(y.a)(p,2),b=m[0],f=m[1],O=Object(a.useState)("".concat(B[0])),v=Object(y.a)(O,2),g=v[0],R=v[1],W=Object(a.useState)(""),M=Object(y.a)(W,2),L=M[0],z=M[1],P=Object(a.useState)([]),Y=Object(y.a)(P,2),U=Y[0],I=Y[1],V=Object(a.useState)(null),G=Object(y.a)(V,2),J=G[0],q=G[1],Q=Object(a.useState)(!1),X=Object(y.a)(Q,2),Z=X[0],$=X[1],ee=new Date((new Date).getTime()),te=function(e,t){"duration"===t&&e.target.value>0?(z(e.target.value),I([]),q(null)):"timezone"===t?(R(e.target.value),I([]),q(null)):"date"===t&&(d(e),I([]),q(null))},ne=function(){var e=Object(k.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("getFreeEvent"!==t){e.next=7;break}return e.next=3,H.getFreeSlots(l,g);case 3:n=e.sent,I(n),e.next=15;break;case 7:return e.next=9,H.createEvent(l,J,L,g);case 9:$(!0),d(new Date),R("".concat(B[0])),z(""),I([]),q(null);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(E.a,{anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:6e3,onClose:function(){return $(!1)},open:Z,children:Object(h.jsx)(_.a,{elevation:6,onClose:function(){return $(!1)},severity:"success",variant:"filled",children:"Appointment booked!"})}),Object(h.jsx)("div",{className:t,children:Object(h.jsx)(N.a,{border:1,className:s,children:Object(h.jsxs)("form",{className:n,children:[Object(h.jsxs)("div",{className:c,children:[Object(h.jsx)(u.a,{className:r,component:"h1",variant:"h6",children:"Choose date of event:"}),Object(h.jsx)(D.a,{utils:S.a,children:Object(h.jsx)(w.a,{autoOk:!0,disablePast:!0,format:"dd/MM/yyyy",minDate:ee,onChange:function(e){return te(e,"date")},value:l,variant:"inline"})})]}),Object(h.jsxs)("div",{className:c,children:[Object(h.jsx)(u.a,{className:r,component:"h1",variant:"h6",children:"Duration:"}),Object(h.jsx)(T.a,{id:"standard-basic",onChange:function(e){return te(e,"duration")},placeholder:"in minutes",type:"number",value:L}),Object(h.jsx)(u.a,{className:r,component:"h1",variant:"h6",children:"Timezone:"}),Object(h.jsx)(A.a,{id:"demo-controlled-open-select",labelId:"demo-controlled-open-select-label",onChange:function(e){return te(e,"timezone")},onClose:function(){f(!1)},onOpen:function(){f(!0)},open:b,value:g,children:B.map((function(e){return Object(h.jsx)(F.a,{value:e,children:e})}))})]}),Object(h.jsx)(x,{events:U,setTime:q,time:J}),Object(h.jsxs)("div",{className:c,children:[Object(h.jsx)(j.a,{color:"primary",onClick:function(){return ne("getFreeEvent")},variant:"contained",children:"Get Free Time"}),Object(h.jsx)(j.a,{color:"primary",disabled:!(L&&J),onClick:function(){return ne("createEvent")},variant:"contained",children:"Book Appointment"})]})]})})})]})},J=n(143),q=n(251),Q=n(252),X=n(253),Z=n(254),$=n(255),ee=Object(l.a)((function(){return{container:{fontFamily:"Work Sans, sans-serif",fontWeight:600,color:"black",display:"flex",flexDirection:"column"},menuButton:{fontFamily:"Open Sans, sans-serif",fontWeight:700,size:"18px",marginLeft:"38px"},divClass:{display:"flex",justifyContent:"space-evenly",marginTop:"50px",marginBottom:"50px"},formClass:{textAlign:"center",marginLeft:"350px",marginRight:"350px"},logo:{fontFamily:"Work Sans, sans-serif",color:"black",textAlign:"left"},boxClass:{margin:"150px"}}})),te=function(){var e=ee(),t=e.container,n=e.formClass,r=e.logo,c=e.divClass,s=e.boxClass,o=Object(a.useState)({startDate:new Date,endDate:new Date}),i=Object(y.a)(o,2),l=i[0],d=i[1],p=Object(a.useState)(null),m=Object(y.a)(p,2),b=m[0],f=m[1],x=function(){var e=Object(k.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l&&l.startDate&&l.endDate)){e.next=6;break}return e.next=3,H.getBookedEvent(l.startDate,l.endDate);case 3:t=(t=e.sent).map((function(e){var t=e.startTime,n=e.endTime;return{startTime:M(t).format("MMMM Do YYYY, h:mm:ss a"),endTime:M(n).format("MMMM Do YYYY, h:mm:ss a")}})),f(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:t,children:Object(h.jsx)(N.a,{border:1,className:s,children:Object(h.jsxs)("form",{className:n,children:[Object(h.jsx)("div",{className:c,children:Object(h.jsx)(u.a,{className:r,component:"h1",variant:"h4",children:"View Appointments"})}),Object(h.jsx)("div",{className:c,children:Object(h.jsx)(v,{setValue:d,value:l})}),Object(h.jsx)("div",{className:c,children:Object(h.jsx)(j.a,{color:"primary",onClick:function(){return x("getFreeEvent")},variant:"contained",children:"Get Booked Events"})}),Object(h.jsx)("div",{className:c,children:Object(h.jsx)(J.a,{className:"container",children:Object(h.jsxs)(q.a,{children:[Object(h.jsx)(Q.a,{children:Object(h.jsxs)(X.a,{children:[Object(h.jsx)(Z.a,{children:"Serial No."}),Object(h.jsx)(Z.a,{numeric:!0,children:"Start Time"}),Object(h.jsx)(Z.a,{numeric:!0,children:"End Time"})]})}),Object(h.jsx)($.a,{children:b&&b.length?b.map((function(e,t){var n=e.startTime,a=e.endTime;return Object(h.jsxs)(X.a,{children:[Object(h.jsx)(Z.a,{component:"th",scope:"row",children:"".concat(t+1)}),Object(h.jsx)(Z.a,{numeric:!0,children:n}),Object(h.jsx)(Z.a,{numeric:!0,children:a})]},"".concat(t+1))})):"No records found"})]})})})]})})})};var ne=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(o.a,{children:[Object(h.jsx)(f,{}),Object(h.jsxs)(i.c,{children:[Object(h.jsx)(i.a,{component:function(){return Object(h.jsx)(G,{})},exact:!0,path:"/"}),Object(h.jsx)(i.a,{component:function(){return Object(h.jsx)(te,{})},exact:!0,path:"/events"})]})]})})};s.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(ne,{})}),document.getElementById("root"))}},[[212,1,2]]]);
//# sourceMappingURL=main.b784f4cd.chunk.js.map