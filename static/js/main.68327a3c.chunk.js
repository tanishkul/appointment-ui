(this["webpackJsonpappointment-ui"]=this["webpackJsonpappointment-ui"]||[]).push([[0],{172:function(e,t,n){},216:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),s=(n(172),n(89)),i=n(17),l=n(244),u=n(246),j=n(248),d=n(249),p=n(250),m=[{label:"Book an Appointment",href:"/"},{label:"View Appointment",href:"/events/"}],h=n(7),b=Object(l.a)((function(){return{header:{backgroundColor:"#400CCC",paddingRight:"79px",paddingLeft:"118px"},logo:{fontFamily:"Work Sans, sans-serif",fontWeight:600,color:"#FFFEFE",textAlign:"left"},menuButton:{fontFamily:"Open Sans, sans-serif",fontWeight:700,size:"18px",marginLeft:"38px"},toolbar:{display:"flex",justifyContent:"space-between"}}})),f=function(){var e=b(),t=e.header,n=e.logo,a=e.menuButton,r=e.toolbar,c=Object(h.jsx)(u.a,{className:n,component:"h1",variant:"h6",children:"Appointment Booking App"});return Object(h.jsx)("header",{children:Object(h.jsx)(p.a,{className:t,children:Object(h.jsxs)(d.a,{className:r,children:[c,Object(h.jsx)("div",{children:m.map((function(e){var t=e.label,n=e.href;return Object(h.jsx)(j.a,{key:t,color:"inherit",to:n,component:s.b,className:a,children:t})}))})]})})})},x=function(e){var t=e.events,n=e.time,a=e.setTime;return Object(h.jsx)(h.Fragment,{children:t.map((function(e,t){return Object(h.jsx)(j.a,{color:"primary",onClick:function(){return a(e)},variant:n!==e?"text":"contained",children:e})}))})},O=(n(182),n(183),n(137)),v=function(e){var t=e.value,n=e.setValue;return Object(h.jsx)(O.DateRangePicker,{onChange:function(e){return function(e){var t=e.range1,a=t.endDate,r=t.startDate;r&&a&&n({startDate:r,endDate:a})}(e)},ranges:[t]})},g=n(138),C=n(139),k=n(145),y=n(144),S=(a.Component,n(26)),D=n.n(S),w=n(47),E=n(32),N=n(143),T=n(21),A=n(260),F=n(265),_=n(261),B=n(264),R=n(262),W=n(268),M=n(263),L=["America/Los_Angeles","Asia/Kolkata","Canada/Pacific","Europe/Moscow","Brazil/East"],z=n(99),P=n.n(z),Y=n(56),U=n(140),I={apiUrl:Object({NODE_ENV:"production",PUBLIC_URL:"/appointment-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVICE_URL:"https://appointment-svc.herokuapp.com/api/"}).REACT_APP_SERVICE_URL||"https://appointment-svc.herokuapp.com/api/"},V=function(e){var t=new Date(e),n="".concat(t.getMonth()+1),a="".concat(t.getDate()),r=t.getFullYear();return n.length<2&&(n="0".concat(n)),a.length<2&&(a="0".concat(a)),[r,n,a].join("-")},H=function(){var e=Object(w.a)(D.a.mark((function e(t,n,a,r){var c,o,s,i,l,u;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=V(t),o=Y(n,"hh:mm A").format("HH:mm"),s=U.tz("".concat(c," ").concat(o),r).toISOString(),i=parseInt(a,10),e.next=7,P()({method:"post",url:"".concat(I.apiUrl,"events/"),data:{dateTime:s,duration:i}});case 7:return l=e.sent,u=J(l),e.abrupt("return",u);case 12:throw e.prev=12,e.t0=e.catch(0),J(e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),K=function(){var e=Object(w.a)(D.a.mark((function e(t,n){var a,r,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=V(t),e.next=4,P()({method:"get",url:"".concat(I.apiUrl,"events/?date=").concat(a,"&timezone=").concat(n),data:{}});case 4:return r=e.sent,c=J(r),e.abrupt("return",c);case 9:throw e.prev=9,e.t0=e.catch(0),J(e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=Object(w.a)(D.a.mark((function e(t,n){var a,r,c,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=V(t),r=V(n),e.next=5,P()({method:"post",url:"".concat(I.apiUrl,"events/booked/"),data:{startDate:a,endDate:r}});case 5:return c=e.sent,o=J(c),e.abrupt("return",o);case 10:throw e.prev=10,e.t0=e.catch(0),J(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),J=function(e){try{var t=e.data.data;if(200===!e.status)throw t;return t}catch(n){throw n}},q={createEvent:H,getFreeSlots:K,getBookedEvent:G},Q=Object(l.a)((function(){return{container:{fontFamily:"Work Sans, sans-serif",fontWeight:600,color:"black",display:"flex",flexDirection:"column"},menuButton:{fontFamily:"Open Sans, sans-serif",fontWeight:700,size:"18px",marginLeft:"38px"},divClass:{display:"flex",justifyContent:"space-between",marginTop:"50px",marginBottom:"50px"},formClass:{textAlign:"center",marginLeft:"350px",marginRight:"350px"},logo:{fontFamily:"Work Sans, sans-serif",color:"black",textAlign:"left"},boxClass:{margin:"150px"}}})),X=function(){var e=Q(),t=e.container,n=e.formClass,r=e.logo,c=e.divClass,o=e.boxClass,s=Object(a.useState)(new Date),i=Object(E.a)(s,2),l=i[0],d=i[1],p=Object(a.useState)(!1),m=Object(E.a)(p,2),b=m[0],f=m[1],O=Object(a.useState)("".concat(L[0])),v=Object(E.a)(O,2),g=v[0],C=v[1],k=Object(a.useState)(""),y=Object(E.a)(k,2),S=y[0],z=y[1],P=Object(a.useState)([]),Y=Object(E.a)(P,2),U=Y[0],I=Y[1],V=Object(a.useState)(null),H=Object(E.a)(V,2),K=H[0],G=H[1],J=Object(a.useState)(!1),X=Object(E.a)(J,2),Z=X[0],$=X[1],ee=new Date((new Date).getTime()),te=function(e,t){"duration"===t&&e.target.value>0?(z(e.target.value),I([]),G(null)):"timezone"===t?(C(e.target.value),I([]),G(null)):"date"===t&&(d(e),I([]),G(null))},ne=function(){var e=Object(w.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("getFreeEvent"!==t){e.next=7;break}return e.next=3,q.getFreeSlots(l,g);case 3:n=e.sent,I(n),e.next=15;break;case 7:return e.next=9,q.createEvent(l,K,S,g);case 9:$(!0),d(new Date),C("".concat(L[0])),z(""),I([]),G(null);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(F.a,{anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:6e3,onClose:function(){return $(!1)},open:Z,children:Object(h.jsx)(M.a,{elevation:6,onClose:function(){return $(!1)},severity:"success",variant:"filled",children:"Appointment booked!"})}),Object(h.jsx)("div",{className:t,children:Object(h.jsx)(_.a,{border:1,className:o,children:Object(h.jsxs)("form",{className:n,children:[Object(h.jsxs)("div",{className:c,children:[Object(h.jsx)(u.a,{className:r,component:"h1",variant:"h6",children:"Choose date of event:"}),Object(h.jsx)(T.a,{utils:N.a,children:Object(h.jsx)(A.a,{autoOk:!0,disablePast:!0,format:"dd/MM/yyyy",minDate:ee,onChange:function(e){return te(e,"date")},value:l,variant:"inline"})})]}),Object(h.jsxs)("div",{className:c,children:[Object(h.jsx)(u.a,{className:r,component:"h1",variant:"h6",children:"Duration:"}),Object(h.jsx)(B.a,{id:"standard-basic",onChange:function(e){return te(e,"duration")},placeholder:"in minutes",type:"number",value:S}),Object(h.jsx)(u.a,{className:r,component:"h1",variant:"h6",children:"Timezone:"}),Object(h.jsx)(R.a,{id:"demo-controlled-open-select",labelId:"demo-controlled-open-select-label",onChange:function(e){return te(e,"timezone")},onClose:function(){f(!1)},onOpen:function(){f(!0)},open:b,value:g,children:L.map((function(e){return Object(h.jsx)(W.a,{value:e,children:e})}))})]}),Object(h.jsx)(x,{events:U,setTime:G,time:K}),Object(h.jsxs)("div",{className:c,children:[Object(h.jsx)(j.a,{color:"primary",onClick:function(){return ne("getFreeEvent")},variant:"contained",children:"Get Free Time"}),Object(h.jsx)(j.a,{color:"primary",disabled:!(S&&K),onClick:function(){return ne("createEvent")},variant:"contained",children:"Book Appointment"})]})]})})})]})},Z=n(147),$=n(255),ee=n(256),te=n(257),ne=n(258),ae=n(259),re=Object(l.a)((function(){return{container:{fontFamily:"Work Sans, sans-serif",fontWeight:600,color:"black",display:"flex",flexDirection:"column"},menuButton:{fontFamily:"Open Sans, sans-serif",fontWeight:700,size:"18px",marginLeft:"38px"},divClass:{display:"flex",justifyContent:"space-evenly",marginTop:"50px",marginBottom:"50px"},formClass:{textAlign:"center",marginLeft:"350px",marginRight:"350px"},logo:{fontFamily:"Work Sans, sans-serif",color:"black",textAlign:"left"},boxClass:{margin:"150px"}}})),ce=function(){var e=re(),t=e.container,n=e.formClass,r=e.logo,c=e.divClass,o=e.boxClass,s=Object(a.useState)({startDate:new Date,endDate:new Date}),i=Object(E.a)(s,2),l=i[0],d=i[1],p=Object(a.useState)(null),m=Object(E.a)(p,2),b=m[0],f=m[1],x=function(){var e=Object(w.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l&&l.startDate&&l.endDate)){e.next=6;break}return e.next=3,q.getBookedEvent(l.startDate,l.endDate);case 3:t=(t=e.sent).map((function(e){var t=e.startTime,n=e.endTime;return{startTime:Y(t).format("MMMM Do YYYY, h:mm:ss a"),endTime:Y(n).format("MMMM Do YYYY, h:mm:ss a")}})),f(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:t,children:Object(h.jsx)(_.a,{border:1,className:o,children:Object(h.jsxs)("form",{className:n,children:[Object(h.jsx)("div",{className:c,children:Object(h.jsx)(u.a,{className:r,component:"h1",variant:"h4",children:"View Appointments"})}),Object(h.jsx)("div",{className:c,children:Object(h.jsx)(v,{setValue:d,value:l})}),Object(h.jsx)("div",{className:c,children:Object(h.jsx)(j.a,{color:"primary",onClick:function(){return x("getFreeEvent")},variant:"contained",children:"Get Booked Events"})}),Object(h.jsx)("div",{className:c,children:Object(h.jsx)(Z.a,{className:"container",children:Object(h.jsxs)($.a,{children:[Object(h.jsx)(ee.a,{children:Object(h.jsxs)(te.a,{children:[Object(h.jsx)(ne.a,{children:"Serial No."}),Object(h.jsx)(ne.a,{numeric:!0,children:"Start Time"}),Object(h.jsx)(ne.a,{numeric:!0,children:"End Time"})]})}),Object(h.jsx)(ae.a,{children:b&&b.length?b.map((function(e,t){var n=e.startTime,a=e.endTime;return Object(h.jsxs)(te.a,{children:[Object(h.jsx)(ne.a,{component:"th",scope:"row",children:"".concat(t+1)}),Object(h.jsx)(ne.a,{numeric:!0,children:n}),Object(h.jsx)(ne.a,{numeric:!0,children:a})]},"".concat(t+1))})):"No records found"})]})})})]})})})};var oe=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(s.a,{children:[Object(h.jsx)(f,{}),Object(h.jsxs)(i.c,{children:[Object(h.jsx)(i.a,{component:function(){return Object(h.jsx)(X,{})},exact:!0,path:"/"}),Object(h.jsx)(i.a,{component:function(){return Object(h.jsx)(ce,{})},exact:!0,path:"/events"})]})]})})};o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(oe,{})}),document.getElementById("root"))}},[[216,1,2]]]);
//# sourceMappingURL=main.68327a3c.chunk.js.map